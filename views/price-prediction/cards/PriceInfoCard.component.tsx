import Card from "@/components/Card/Card.component";
import { formatBigIntToFixed } from "@/utils/formatBigIntToFixed";
import { usePrediction } from "@/components/PredictionProvider";

export const PriceInfoCard = () => {
  const { chainlinkOraclePrice } = usePrediction();
  return (
    <Card legend="bitcoin price" className="h-[200px]" classNameParent="w-full max-w-[440px]">
      <div className="relative overflow-hidden w-full h-full flex flex-col leading-10 items-center justify-center text-4.5xl text-center">
        <div className="z-10 text-shadow-[0_0_12px_rgba(0,0,0,.25)]">
          <p>{formatBigIntToFixed(chainlinkOraclePrice, 4, 8)}</p>
          <p>USD</p>
        </div>
        <div className="absolute right-0 -bottom-2 rotate-12 z-0">
          <svg width="144" height="200" viewBox="0 0 144 200" fill="#9846FF" xmlns="http://www.w3.org/2000/svg">
            <path
              strokeWidth="0"
              d="M133.056 61.5385C134.493 76.1218 129.264 86.4583 117.367 92.5481C126.709 94.7917 133.695 98.9183 138.326 104.928C142.956 110.937 144.753 119.511 143.715 130.649C143.156 136.338 141.859 141.346 139.823 145.673C137.787 150 135.212 153.566 132.098 156.37C128.984 159.175 125.112 161.518 120.481 163.401C115.85 165.284 111 166.667 105.93 167.548C100.86 168.429 95.0515 169.03 88.5044 169.351V200H70.061V169.832C63.6737 169.832 58.8034 169.792 55.45 169.712V200H37.0066V169.351C35.5694 169.351 33.4137 169.331 30.5394 169.291C27.6651 169.251 25.4695 169.231 23.9525 169.231H0L3.71264 147.236H17.0063C20.9983 147.236 23.3138 145.192 23.9525 141.106V92.7885H25.8687C25.3896 92.7083 24.7509 92.6683 23.9525 92.6683V58.1731C22.9145 52.7244 19.3616 50 13.2936 50H0V30.2885L25.3896 30.4087C30.4995 30.4087 34.3718 30.3686 37.0066 30.2885V0H55.45V29.6875C61.997 29.5272 66.8674 29.4471 70.061 29.4471V0H88.5044V30.2885C94.8119 30.8494 100.401 31.7508 105.271 32.9928C110.142 34.2348 114.653 36.0377 118.804 38.4014C122.956 40.7652 126.25 43.8902 128.685 47.7764C131.12 51.6627 132.577 56.25 133.056 61.5385ZM107.307 127.043C107.307 124.159 106.708 121.595 105.511 119.351C104.313 117.107 102.836 115.264 101.08 113.822C99.323 112.38 97.0275 111.158 94.1932 110.156C91.3588 109.155 88.744 108.413 86.3487 107.933C83.9535 107.452 80.9993 107.091 77.4863 106.851C73.9733 106.611 71.2187 106.49 69.2227 106.49C67.2267 106.49 64.6518 106.53 61.498 106.611C58.3443 106.691 56.448 106.731 55.8093 106.731V147.356C56.448 147.356 57.9251 147.376 60.2405 147.416C62.5559 147.456 64.4721 147.476 65.9891 147.476C67.5061 147.476 69.6219 147.416 72.3365 147.296C75.0511 147.175 77.3865 147.015 79.3426 146.815C81.2987 146.615 83.5742 146.274 86.1691 145.793C88.7639 145.312 90.9795 144.752 92.8159 144.111C94.6523 143.47 96.5485 142.628 98.5046 141.587C100.461 140.545 102.038 139.343 103.235 137.981C104.433 136.619 105.411 135.016 106.169 133.173C106.928 131.33 107.307 129.287 107.307 127.043ZM98.804 69.8317C98.804 67.1875 98.305 64.8437 97.307 62.8005C96.309 60.7572 95.0914 59.0745 93.6542 57.7524C92.2171 56.4303 90.3009 55.3085 87.9056 54.387C85.5104 53.4655 83.3147 52.8045 81.3187 52.4038C79.3227 52.0032 76.8675 51.6827 73.9533 51.4423C71.0391 51.2019 68.7237 51.1018 67.0071 51.1418C65.2905 51.1819 63.1348 51.222 60.5399 51.262C57.9451 51.3021 56.3682 51.3221 55.8093 51.3221V88.2212C56.2085 88.2212 57.5858 88.2412 59.9411 88.2812C62.2964 88.3213 64.1527 88.3213 65.5101 88.2812C66.8674 88.2412 68.8634 88.1611 71.4982 88.0409C74.133 87.9207 76.3286 87.7003 78.0851 87.3798C79.8416 87.0593 81.8976 86.6186 84.2529 86.0577C86.6082 85.4968 88.5444 84.7556 90.0614 83.8341C91.5783 82.9127 93.0554 81.8309 94.4926 80.5889C95.9297 79.347 97.0076 77.8045 97.7262 75.9615C98.4447 74.1186 98.804 72.0753 98.804 69.8317Z"
              fill="#9846FF"
            />
          </svg>
        </div>
      </div>
    </Card>
  );
};
